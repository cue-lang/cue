{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bcb2fad5_58e0c48c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 17
      },
      "lineNbr": 0,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-05-02T11:29:50Z",
      "side": 1,
      "message": "Thanks, the code LGTM! Just some last nits. I will run this new flag by the others.",
      "revId": "112a15d0762271a92657c25f8d30bfa4bb666da8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1543fbc_4c65bed3",
        "filename": "cmd/cue/cmd/common.go",
        "patchSetId": 17
      },
      "lineNbr": 740,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-05-02T11:29:50Z",
      "side": 1,
      "message": "I think you can inline this now, or just revert these changes; fmt no longer takes an encoding config.",
      "revId": "112a15d0762271a92657c25f8d30bfa4bb666da8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92987325_5a94c160",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 17
      },
      "lineNbr": 111,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-05-02T11:29:50Z",
      "side": 1,
      "message": "how about just:\n\n```\nif slices.ContainsFunc(args, func(arg string) bool {\n    return strings.Contains(arg, \"...\")\n}) {\n    exitOnErr(...)\n}\n```\n\nNote that the `...` pattern can appear anywhere, even if it\u0027s almost always used as a `/...` suffix. For example:\n\n```\n$ go list ./cmd/cue/...\ncuelang.org/go/cmd/cue\ncuelang.org/go/cmd/cue/cmd\n$ go list ./cmd/cu...\ncuelang.org/go/cmd/cue\ncuelang.org/go/cmd/cue/cmd\ncuelang.org/go/cmd/cuepls\ncuelang.org/go/cmd/cuepls/internal/test/integration/base\n```",
      "revId": "112a15d0762271a92657c25f8d30bfa4bb666da8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ec63994_ec158315",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 17
      },
      "lineNbr": 141,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-05-02T11:29:50Z",
      "side": 1,
      "message": "can you try refactoring this so you always call WalkDir on each argument? because:\n\n* right now you stat first and then call walkdir later, which is arguably one unneeded syscall\n* it\u0027s more code; the WalkDir recursion already knows how to handle errors and regular files, and you also need more indentation\n* you can still handle cases like \"ignore cue.mod unless given explicitly\" by comparing path to arg:\n\n\u003e The path argument contains the argument to WalkDir as a prefix. That is, if WalkDir is called with root argument \"dir\" and finds a file named \"a\" in that directory, the walk function will be called with argument \"dir/a\".",
      "revId": "112a15d0762271a92657c25f8d30bfa4bb666da8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}