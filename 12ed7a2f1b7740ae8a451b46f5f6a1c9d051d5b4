{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d4ed1a05_fda1a640",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2022-07-27T19:10:46Z",
      "side": 1,
      "message": "The race is now dealt with.\n\nI ended up using a mutex around each whole task that uses stdin, as opposed to each read operation, as this helps us against interleaved reads, which are still a form of logic race.\n\nNot allowing the running of two concurrent tasks which use stdin is perhaps a bit strict, but it\u0027s a direction we want to head towards anyway, so I hope it\u0027s okay. If you feel like it will slow down too many users, I am happy to bounce ideas, and we should write a test that ensures e.g. two exec.Run tasks can run concurrently in their default state (stdin is used).",
      "revId": "12ed7a2f1b7740ae8a451b46f5f6a1c9d051d5b4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}