{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "33e99dbd_b183205a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 10,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "perhaps explain that, day 1, implementing only git is good enough, but that we plan to add support for other VCSs as needed",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "22f30d9a_471fa514",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "My only somewhat major worry is the iterator suggestion, otherwise SGTM.",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59e4bc6d_d4897928",
        "filename": "internal/vcs/copyfs_test.go",
        "patchSetId": 6
      },
      "lineNbr": 10,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "slightly adapted how? this will be important once we want to drop our copy.",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee6fbc89_5875bc47",
        "filename": "internal/vcs/copyfs_test.go",
        "patchSetId": 6
      },
      "lineNbr": 10,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "59e4bc6d_d4897928",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4976c7d6_65db1ddd",
        "filename": "internal/vcs/git.go",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "what do other projects like Rust do in that respect?",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4381ca1_5f3aaacd",
        "filename": "internal/vcs/git.go",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "I\u0027ll leave it as a TODO for now if that\u0027s OK, as I don\u0027t want to go down that rabbit hole right now.",
      "parentUuid": "4976c7d6_65db1ddd",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7dd5d5c4_47ae888a",
        "filename": "internal/vcs/git.go",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "strings.Cut?",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "70e35aa1_3d358859",
        "filename": "internal/vcs/git.go",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7dd5d5c4_47ae888a",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a20c52bd_f28a2024",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 12,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "document the interface briefly? at least what VCS stands for, as it may not be obvious to some readers.",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c47e596a_eb24c1c8",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 12,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a20c52bd_f28a2024",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ded1efd4_c495af09",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 13,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "from this description I wouldn\u0027t honestly know whether this means `/foo` or `/foo/.git` for a git clone.",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a59fbe7_61bf16ba",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 13,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ded1efd4_c495af09",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "553c6689_1c195df8",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "I\u0027m not sure if you considered this, but I would personally make this a func iterator - for some large repositories or monorepos, the total number of files may be surprisingly large, so waiting until the entire list is available seems unnecessary. On the Go repo with ~13k files, which isn\u0027t even that many, it already takes about 30ms for me to collect the entire list, so on truly large corporate monorepos you may block for hundreds of milliseconds before doing anything useful concurrently.\n\nThat is, I would implement a func iterator by starting the command with an os.Pipe, and then consuming the filenames as they come in by iterating.",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a5b28133_fafe6448",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "I did consider that, but given that this is really here specifically for using as an argument to `modzip.Create` and that currently takes a slice not an iterator, I think it\u0027s OK to return a slice for now. Given this is all just for the relatively-rare operation of publishing a module, and it\u0027s an internal package so we can change the API, I think that\u0027s OK. We can optimize later.",
      "parentUuid": "553c6689_1c195df8",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "176b01b0_f11becd9",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "\"the current state\" seems more useful",
      "range": {
        "startLine": 23,
        "startChar": 19,
        "endLine": 23,
        "endChar": 29
      },
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bfa28ca1_360f75c9",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "176b01b0_f11becd9",
      "range": {
        "startLine": 23,
        "startChar": 19,
        "endLine": 23,
        "endChar": 29
      },
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8392be2b_756cbfcd",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 24,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "as far as I can tell, no reason to split this line",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "938a52d7_0ceaad69",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 24,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "fmt begs to differ, so left as is. I reformatted the comment above to be consistent.",
      "parentUuid": "8392be2b_756cbfcd",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6677f2c3_3adf0081",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "godoc?",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b04fe688_7dd40147",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6677f2c3_3adf0081",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46747b52_63584f82",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 52,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "these five lines of godoc can easily be three lines",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7aa9b034_3c058a96",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 52,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46747b52_63584f82",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3b68ffd_0102eae1",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "nit: `...string` for easier calls?",
      "range": {
        "startLine": 53,
        "startChar": 36,
        "endLine": 53,
        "endChar": 44
      },
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "755710ef_129bb977",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f3b68ffd_0102eae1",
      "range": {
        "startLine": 53,
        "startChar": 36,
        "endLine": 53,
        "endChar": 44
      },
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9f6a363_bdf877dc",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-16T11:35:48Z",
      "side": 1,
      "message": "use `os.Lstat` as you don\u0027t want/need to follow symlinks",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "859f6fc3_0df531e8",
        "filename": "internal/vcs/vcs.go",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-17T09:45:53Z",
      "side": 1,
      "message": "The equivalent function in Go uses Stat so I guess this is correct. Perhaps it\u0027s fine to have a symlink .git directory. Their code is certainly battle tested, so I think I\u0027ll leave it.",
      "parentUuid": "d9f6a363_bdf877dc",
      "revId": "17f28e0ac1f88ebd05c9cb6a255ab6ea191c65ed",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}