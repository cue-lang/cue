{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8265fac8_86e8bb92",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-01-30T10:32:21Z",
      "side": 1,
      "message": "```suggestion\nUse --files to treat arguments as file paths instead.\n```",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e68da69_86c8b4f8",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-01-30T10:45:32Z",
      "side": 1,
      "message": "In both cases, \"descend\" or \"walk\" are important IMHO. Otherwise it sounds like we only take regular files. WDYT?",
      "parentUuid": "8265fac8_86e8bb92",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f854ef51_7c2d3cb7",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-01-30T10:48:26Z",
      "side": 1,
      "message": "In both cases, my reading absolutely does not suggest anything other than *file* paths are accepted. I would expect an error if I passed a path to a directory. If that\u0027s not the case, then I really think the wording should be explicit that the paths can be to files or directories. IMO, it *never* hurts to be explicit.",
      "parentUuid": "1e68da69_86c8b4f8",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "318658a5_c7a96ae4",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-01-30T11:03:18Z",
      "side": 1,
      "message": "OK - can you please suggest a wording that is clear to you? it\u0027s a balance between being clear but brief.\n\nto be clear, the intent here was \"file path\" as in OS filepath, not \"path to a regular file\".",
      "parentUuid": "f854ef51_7c2d3cb7",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51cc8284_1c351e8f",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-01-30T11:09:41Z",
      "side": 1,
      "message": "Sure. Personally I think \"file path\" as path/filepath might be something that is non-jarring to Go devs, but possible more jarring to others.\n\n\nHow about:\n\n```suggestion\nUse --files to treat arguments to files or directories. If directories, all the *.cue files found within the directory are formatted only.\n```\n\nassuming that there\u0027s no walking done into subdirs?",
      "parentUuid": "318658a5_c7a96ae4",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3ffb876_2b134587",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-01-30T11:18:24Z",
      "side": 1,
      "message": "There is walking, hence \"descend\"",
      "parentUuid": "51cc8284_1c351e8f",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ada247ac_41e1fefc",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-01-30T11:23:57Z",
      "side": 1,
      "message": "descend does not mean recursive! So how do I format all files in a directory and none of its child directories? Presumably `--files path/to/dir/*.cue` and rely on shell glob expansion? Would be good to have that as an example.\n\n```suggestion\nUse --files to treat arguments to files or directories. A path to a directory will format all *.cue files in that directory and all sub-directories, recursively.\n```",
      "parentUuid": "a3ffb876_2b134587",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32730a92_5d93593a",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-01-30T11:29:41Z",
      "side": 1,
      "message": "Sorry, original typo by me, and then c+p. What I meant was:\n\n```suggestion\nUse --files to treat arguments as paths to files or directories. A path to a directory will format all *.cue files in that directory and all sub-directories, recursively.\n```",
      "parentUuid": "ada247ac_41e1fefc",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7fb16ced_bad5d5cc",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-01-30T11:32:08Z",
      "side": 1,
      "message": "For a single dir, you wouldn\u0027t use the files flag.\n\nMy thinking was that descend or walk are indeed recursive, but shorter/simpler in a sentence. If you meant non-recursive, then you\u0027d just say \"files in a dir\" rather than descend/walk.\n\nI\u0027m fine with your wording here, being longer in the help text can be OK. But this will definitely not fit in the flag text. I\u0027ll rewrite later to have a go.",
      "parentUuid": "ada247ac_41e1fefc",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "248a0e0d_828d39af",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-01-30T11:43:34Z",
      "side": 1,
      "message": "\u003e For a single dir, you wouldn\u0027t use the files flag.\n\nWhy not? What if I wanted to format cue files in a directory, but not any that are included via ancestor imports? I presume that if I\u0027m using an import path, that *does* support ancestor imports.",
      "parentUuid": "7fb16ced_bad5d5cc",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f80e35d7_26651f26",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-01-30T14:26:03Z",
      "side": 1,
      "message": "the loading of ancestor packages, much like loading imported packages, only happens when you\u0027re building CUE values. this happens with commands working on CUE values like `export` or `vet`, but not `fmt` or `import`.\n\nI realise that this is not super intuitive - it mirrors the difference between packages and instances. `./...` is a package pattern, so fmt\u0027s current behavior given that it loads packages and formats all CUE files directly in them, but it does not build instances (values) with the extra steps needed for those.\n\nso I think the proper way to resolve this confusion would be to clarify the packages vs instances wording in the docs, including in `cue help` docs in terms of which packages do or do not load package instances.",
      "parentUuid": "248a0e0d_828d39af",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbb998a1_4e19fbbb",
        "filename": "cmd/cue/cmd/fmt.go",
        "patchSetId": 1
      },
      "lineNbr": 185,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-01-30T10:32:21Z",
      "side": 1,
      "message": "Possibly a nit, but I don\u0027t believe \"to descend into\" is necessary or adds anything.",
      "revId": "3f5ff021969428223e7ba9a83340238c0aa330a9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}