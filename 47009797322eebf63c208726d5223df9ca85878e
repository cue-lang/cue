{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ba3e7551_26ac7b74",
        "filename": "cmd/cue/cmd/integration/workspace/codeaction_test.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "nit: if WithOptions took a subtest name, then you could avoid the extra nesting here.",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9329324_7e4bf72f",
        "filename": "cmd/cue/cmd/integration/workspace/codeaction_test.go",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "slices.ContainsFunc?",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f70bff5d_ad6c9091",
        "filename": "internal/golangorgx/gopls/protocol/codeactionkind.go",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "should we have the name \"cue\" or \"cue-lsp\" in there somewhere? naively I would imagine we have to, because otherwise there might be clashes with other LSP servers being used at the same time.",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b7530ae_73700809",
        "filename": "internal/lsp/cache/codeaction.go",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "FYI: Go has a helper for this sort of thing, which we could borrow if you want: https://pkg.go.dev/golang.org/x/tools/go/ast/astutil#PathEnclosingInterval\n\nAlthough I will say it\u0027s not very efficient as you might expect. I don\u0027t know if it\u0027s any smarter than what you\u0027re doing here. I suppose that, if one were to write such an API from scratch today, it could use an iterator.",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9144cebb_0dddeb14",
        "filename": "internal/lsp/cache/codeaction.go",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "should this use a \"within\" helper as discussed before?",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51a07aab_249a1869",
        "filename": "internal/lsp/cache/codeaction.go",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "nit: do we need this variable?",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ad34f99_0cb213bb",
        "filename": "internal/lsp/cache/codeaction.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "ditto",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c85db946_f0bfd5bd",
        "filename": "internal/lsp/cache/codeaction.go",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "could this be `field.Pos()`, and then you don\u0027t need the walk func to \"return\" a label variable?",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "180e4fc6_4c6a27ca",
        "filename": "internal/lsp/cache/codeaction.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "nit: I might call this lineIdx to clarify it\u0027s 0-based",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74fa497b_e6be4de5",
        "filename": "internal/lsp/server/codeaction.go",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "These last five lines could be just\n\n`return slices.Sorted(maps.Keys(allCodeActionKinds))`\n\nand if you expect duplicates to not be too many, you could even skip the map; collect into a slice directly, sort, deduplicate via https://pkg.go.dev/slices#Compact, and return. it sounds expensive, but if you\u0027re sorting anyway, then it\u0027s not really.",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b336b87e_b90744ee",
        "filename": "internal/lsp/server/codeaction.go",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-07T16:18:11Z",
      "side": 1,
      "message": "could we support this action as a \"toggle\" for inline struct fields? that is, something like...\n1) if a field is inline, \"toggle\" it to use curly braces\n2) if a field is alone in curly braces, \"toggle\" it to the inline form\n3) (perhaps not as useful) if a field is among others in curly braces, \"toggle\" it to the inline form by splitting it off from the rest, duplicating the label(s)\n\nI say this because you\u0027re doing (1) here, but I\u0027d personally find (2) useful too, as a form of simplification in some cases.",
      "revId": "47009797322eebf63c208726d5223df9ca85878e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}