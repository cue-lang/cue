{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f58d54e3_2a9eb76e",
        "filename": "internal/lsp/fscache/fs_cache.go",
        "patchSetId": 5
      },
      "lineNbr": 132,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T09:50:59Z",
      "side": 1,
      "message": "I think we already have `internal.ToFile` for this purpose",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc5d732b_5d2b097c",
        "filename": "internal/lsp/fscache/fs_cache.go",
        "patchSetId": 5
      },
      "lineNbr": 132,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-02-11T11:23:42Z",
      "side": 1,
      "message": "Thank you!",
      "parentUuid": "f58d54e3_2a9eb76e",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0db824ae_70fcca39",
        "filename": "internal/lsp/fscache/fs_cache.go",
        "patchSetId": 5
      },
      "lineNbr": 481,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T09:50:59Z",
      "side": 1,
      "message": "should you not be skipping directories at the very start of the loop?",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7ad24eca_06ec17a9",
        "filename": "internal/lsp/fscache/fs_cache.go",
        "patchSetId": 5
      },
      "lineNbr": 481,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-02-11T11:23:42Z",
      "side": 1,
      "message": "Yes absolutely. Just testing! ðŸ˜€",
      "parentUuid": "0db824ae_70fcca39",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d665d48f_adb5bd5c",
        "filename": "internal/lsp/fscache/fs_cache.go",
        "patchSetId": 5
      },
      "lineNbr": 501,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T09:50:59Z",
      "side": 1,
      "message": "I\u0027m not sure that this is correct; I thought the logic for loading CUE in general was \"ignore directories, read everything else\". So I think we should not attempt to resolve symlinks or check for regular files.",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c807fc58_f22ef648",
        "filename": "internal/lsp/fscache/fs_cache.go",
        "patchSetId": 5
      },
      "lineNbr": 501,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-02-11T10:37:44Z",
      "side": 1,
      "message": "I\u0027m not disagreeing with you at all, but this is exactly the code from modpkgload/import.go - https://github.com/cue-lang/cue/blob/master/internal/mod/modpkgload/import.go#L329",
      "parentUuid": "d665d48f_adb5bd5c",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ec181a02_889b4ceb",
        "filename": "internal/lsp/fscache/fs_cache.go",
        "patchSetId": 5
      },
      "lineNbr": 501,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T15:06:21Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "c807fc58_f22ef648",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c91d8bc8_d71349f5",
        "filename": "internal/lsp/fscache/fs_overlay.go",
        "patchSetId": 5
      },
      "lineNbr": 669,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T09:50:59Z",
      "side": 1,
      "message": "(in comparison to the earlier loop, this early \"is dir\" check seems correct)",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e97522f_c78a0b87",
        "filename": "internal/mod/modpkgload/import.go",
        "patchSetId": 5
      },
      "lineNbr": 304,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T09:50:59Z",
      "side": 1,
      "message": "I know you prefer to use variables for fields, which is fine - but then at least use them consistently :) further below you still access `loc.FS`.",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4ad1b22_6b16c0f4",
        "filename": "internal/mod/modpkgload/import.go",
        "patchSetId": 5
      },
      "lineNbr": 304,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-02-11T11:23:42Z",
      "side": 1,
      "message": "Totally agree. Thank you!",
      "parentUuid": "7e97522f_c78a0b87",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87a9d61b_0cc35b49",
        "filename": "mod/module/dirfs.go",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T09:50:59Z",
      "side": 1,
      "message": "```suggestion\n\t// necessary) a path to a CUE AST, it should return (nil, nil).\n```\n\nor consider using `errors.ErrUnsupported` for more clarity? I think the Go ecosystem is converging on this to mean \"an interface method implementation which does not support a particular feature\".",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b985694_f0c5f1d2",
        "filename": "mod/module/dirfs.go",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-02-11T15:03:38Z",
      "side": 1,
      "message": "So, the existing behaviour here is that `ErrUnsupported` makes the caller fallback to a default implementation. That is different to being able to say \"this file can\u0027t be converted to a CUE AST\". In this latter case, you don\u0027t want the caller to fallback to a default implementation.\n\nSo I think we could change this to an explicit error, but it would not be ErrUnsupported (or the existing behaviour of ErrUnsupported would have to change to some other error too).",
      "parentUuid": "87a9d61b_0cc35b49",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04e1bd09_57537f3f",
        "filename": "mod/module/dirfs.go",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T15:06:21Z",
      "side": 1,
      "message": "ah I see. no strong feelings then, whichever you think is clearest",
      "parentUuid": "4b985694_f0c5f1d2",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ca77676_53aed4ba",
        "filename": "mod/module/dirfs.go",
        "patchSetId": 5
      },
      "lineNbr": 41,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T09:50:59Z",
      "side": 1,
      "message": "I\u0027m not sure that this is the right way to use ErrUnsupported; my understanding is that its best use case is for edge cases which are not supported. If you want this method to be optional for implementers, then split it off into e.g. `ReadDirFS` and then do a type assertion against that interface. forcing implementers to add this method to always return ErrUnsupported seems unnecessary.",
      "range": {
        "startLine": 41,
        "startChar": 4,
        "endLine": 41,
        "endChar": 33
      },
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "310fead6_bce6306f",
        "filename": "mod/module/dirfs.go",
        "patchSetId": 5
      },
      "lineNbr": 41,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-02-11T10:37:44Z",
      "side": 1,
      "message": "Yeah I agree - I was coping exactly the wording and behaviour of the existing ReadCUEFile method. I care that they both have the same semantics.",
      "parentUuid": "5ca77676_53aed4ba",
      "range": {
        "startLine": 41,
        "startChar": 4,
        "endLine": 41,
        "endChar": 33
      },
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "879026c3_a9ffdaa2",
        "filename": "mod/module/dirfs.go",
        "patchSetId": 5
      },
      "lineNbr": 41,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T15:06:21Z",
      "side": 1,
      "message": "using the same semantics for both seems fine. not a strong feeling for me either way, even if I\u0027d lean towards a separate interface.",
      "parentUuid": "310fead6_bce6306f",
      "range": {
        "startLine": 41,
        "startChar": 4,
        "endLine": 41,
        "endChar": 33
      },
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57997eaf_5845731c",
        "filename": "mod/module/dirfs.go",
        "patchSetId": 5
      },
      "lineNbr": 44,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2026-02-11T09:50:59Z",
      "side": 1,
      "message": "I might name this FindCUEFiles or CanReadCUEFiles for the sake of being a bit more direct",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8853af8c_fa5062c5",
        "filename": "mod/module/dirfs.go",
        "patchSetId": 5
      },
      "lineNbr": 44,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2026-02-11T11:23:42Z",
      "side": 1,
      "message": "Where it\u0027s used in modpkgload, finding/testing directories is in a very different place from searching within those directories. So I don\u0027t like `FindCUEFiles` because I would expect that to return an iter, and that\u0027s really not what\u0027s wanted. I think there\u0027s not much between `CanReadCUEFiles` and `IsDirWithCUEFiles` really. I know it\u0027s not a great name, but I actually prefer the latter because it makes it clearer that path should be interpreted as a path to a dir, whereas it\u0027s ambiguous with `CanReadCUEFiles`.",
      "parentUuid": "57997eaf_5845731c",
      "revId": "5517651cd2db16529fc932d27d41126f41ece37b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}