{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "81072478_79ebf224",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-02-28T22:10:28Z",
      "side": 1,
      "message": "SGTM; just one thought about letting cue/format do the printing.",
      "revId": "9caa8c6676f4f8b45bb75a49d09ee60f27f8eac6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc50b83f_be18d944",
        "filename": "cmd/cue/cmd/testdata/script/def_package.txtar",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-02-28T22:10:28Z",
      "side": 1,
      "message": "hm, why do we end up with two empty lines here? (this is related to my other comment)",
      "revId": "9caa8c6676f4f8b45bb75a49d09ee60f27f8eac6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ca3d1823_e708e644",
        "filename": "cmd/cue/cmd/testdata/script/def_package.txtar",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2024-02-29T07:32:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bc50b83f_be18d944",
      "revId": "9caa8c6676f4f8b45bb75a49d09ee60f27f8eac6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b2d9c18_78d661ae",
        "filename": "cmd/cue/cmd/testdata/script/export_cue.txtar",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1013536
      },
      "writtenOn": "2024-02-29T07:28:00Z",
      "side": 1,
      "message": "Why not allow \"repacking\"?\n\nIf the intention is to allow this in the future, or considering it, please add this as a TODO comment.",
      "revId": "9caa8c6676f4f8b45bb75a49d09ee60f27f8eac6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13a9dea3_abc198e0",
        "filename": "cmd/cue/cmd/testdata/script/export_cue.txtar",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2024-02-29T07:32:38Z",
      "side": 1,
      "message": "This highlights one of my concerns around the re-use of `--package`. It currently fulfils the role of placing non-CUE inputs in the context of a package. That\u0027s an input-related function. In this CL we are proposing `--package` also take the role of ensuring that a CUE result belongs to a given package. I assume by \"repacking\" you mean \"repackaging\" i.e. not constraining the input and output package names need to be the same. If we do want to allow that, then perhaps it\u0027s not a prudent step to overload `--package` in the way proposed by this CL. And instead offer some new flag for setting the output package.\n\nThoughts?",
      "parentUuid": "0b2d9c18_78d661ae",
      "revId": "9caa8c6676f4f8b45bb75a49d09ee60f27f8eac6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "149799c8_89222a70",
        "filename": "internal/encoding/encoder.go",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-02-28T22:10:28Z",
      "side": 1,
      "message": "I think the better solution would be to set the package name in the ast.File and let cue/format deal with the printing and good formatting of the package declaration. you can do a copy of https://github.com/cue-lang/cue/blob/723438a57754/cue/ast/ast.go#L1005 for instance - arguably we could have a Package method that returns a pointer for convenience.\n\non one hand this is to encapsulate syntax printing in one package, but especially since cue/format ensures good formatting, e.g. not too many empty lines.",
      "revId": "9caa8c6676f4f8b45bb75a49d09ee60f27f8eac6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e770bdd9_908e05ac",
        "filename": "internal/encoding/encoder.go",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1013536
      },
      "writtenOn": "2024-02-29T07:28:00Z",
      "side": 1,
      "message": "I agree. We should shy away from textual manipulation.",
      "parentUuid": "149799c8_89222a70",
      "revId": "9caa8c6676f4f8b45bb75a49d09ee60f27f8eac6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "61123a7c_5b3ecdce",
        "filename": "internal/encoding/encoder.go",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2024-02-29T07:32:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e770bdd9_908e05ac",
      "revId": "9caa8c6676f4f8b45bb75a49d09ee60f27f8eac6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}