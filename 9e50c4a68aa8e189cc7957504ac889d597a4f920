{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b1f69730_18363547",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2022-05-27T20:03:43Z",
      "side": 1,
      "message": "This doesn\u0027t read quite right to me because it implies the package(s) in the directory will be loaded. But that\u0027s not strictly true, because it\u0027s the combination of the directory, the pattern arguments, plus the Package string, that determines what will be loaded. Perhaps the wording needs to talk about the Dir being the root from which the patterns are interpreted? As you can tell, I\u0027m not feeling particularly creative today :)",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca903fe8_6bf0e696",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2022-05-29T20:29:32Z",
      "side": 1,
      "message": "Yeah, you\u0027re right that this simplistic wording can be misunderstood.\n\nI\u0027m not a huge fan of using the word \"pattern\", because the docs make no mention of it otherwise. \"cue help inputs\" doesn\u0027t either. Borrowing from that help page, and also replacing \"packages\" with \"instances\" to be more precise, how about:\n\n\u003e Dir is the directory from which CUE instances start being loaded.\n\u003e For example, rooted import paths beginning with \".\" are relative to this directory.\n\u003e If Dir is empty, the current directory is used.",
      "parentUuid": "b1f69730_18363547",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41b4f385_d940fed0",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2022-05-30T15:47:33Z",
      "side": 1,
      "message": "How about:\n\u003e Dir is used as the base directory for relative import paths (paths starting with \"./\")\n\nIs it used for anything else?",
      "parentUuid": "ca903fe8_6bf0e696",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7349fa64_c0b57fd6",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2022-05-30T15:52:05Z",
      "side": 1,
      "message": "I\u0027m not 100% sure, and even if true today it might not be in the future, which is why I went with \"for example\" instead :) Happy for any of you to call the shot here, I just don\u0027t know cue/load super well yet.\n\nFYI, \"relative import paths\" is not a concept in CUE, \"cue help inputs\" calls them \"rooted paths\", which is why I used that wording in my last suggestion.",
      "parentUuid": "41b4f385_d940fed0",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d19db34c_de1edf8d",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2022-05-30T15:53:15Z",
      "side": 1,
      "message": "Interesting that \"go help packages\" refers to them as import paths as well, even though relative imports do not work in module mode. \n\nPerhaps we want to steer clear of the word \"import\" because CUE does not support relative imports.",
      "parentUuid": "41b4f385_d940fed0",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7cf57654_204342f4",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2022-05-30T16:12:12Z",
      "side": 1,
      "message": "I don\u0027t oppose replacing \"import path\" from all the inputs and load docs, but that feels like a much larger CL than \"fix the Dir docs to not reference a query tool\" :) \n\nIf someone wants to do that CL now and replace mine, that\u0027s also fine. If not, perhaps we can track that in the issue tracker so we don\u0027t forget.",
      "parentUuid": "d19db34c_de1edf8d",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e30e5b51_5576232a",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2022-06-30T14:48:57Z",
      "side": 1,
      "message": "I\u0027d like to land this before months go by due to nit picks :) Do either of you have any last suggestion or strong feelings about this?\n\nIf not, I might adopt Roger\u0027s suggestion but replacing the Go term \"relative import paths\" for CUE\u0027s \"rooted import paths\":\n\n\u003e Dir is used as the base directory for rooted import paths (paths starting with \"./\").",
      "parentUuid": "7cf57654_204342f4",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99c36985_02c119d1",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2022-07-01T04:59:55Z",
      "side": 1,
      "message": "\u003e I\u0027d like to land this before months go by due to nit picks\n\nUnderstood ðŸ˜Š Another approach might have been to discuss/agree this in an issue first?\n\nRegarding the suggestion:\n\n| Dir is used as the base directory for rooted import paths (paths starting with \"./\").\n\nThis isn\u0027t quite right either to my mind, because it seems to suggest that the directory is only used for resolution of rooted imported paths. But the directory is also used for determining the main module, and hence the ability to resolve any dependencies outside of the main module. So how about something more simple:\n\n| Dir is the base directory for import path resolution. \n\nThere could then be some text that follows that explains the different types of resolutions that occur that depend on this directory. \n\nSide note not for this CL: but I\u0027m not particularly comfortable with the term \"import path\" also capturing the concept of a \"relative import path\" and patterns. \"Import path\" suggests to me the thing we are referring to is something I can use in an import declaration. However, I can use neither:\n\n    import \"./my/pkg\"\n    \n(because relative imports are not supported in module mode) nor:\n \n    import \"example.com/my/...\"\n    \nas import declarations. However, both \"./my/pkg\" and \"example.com/my/...\" are, according to my understanding of the Go docs, considered \"import paths\".\n\nSome clarity in the Go and CUE docs would be helpful to my mind, but as you say, mvdan, that\u0027s beyond the scope of this CL. But useful context in establishing what to write right here and now.",
      "parentUuid": "e30e5b51_5576232a",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "147b111f_cb0962b2",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2022-07-01T11:23:21Z",
      "side": 1,
      "message": "\u003e Another approach might have been to discuss/agree this in an issue first?\n\nIt\u0027s a three-line doc change where the old docs were clearly wrong, so I didn\u0027t feel like an issue was needed :) Even in hindsight, I still wouldn\u0027t have over-engineered for the discussion of so little text.\n\nYou\u0027re right about \"import path\" perhaps being somewhat ambiguous, but you\u0027re also right that it is out of scope. `cue inputs` would need to be updated, for example. That does deserve its own issue :) \n\nNew suggestion based on yours and picking up bits from my previous longer suggestion:\n\n\u003e Dir is the base directory for import path resolution. \n\u003e For example, it is used to determine the main module,\n\u003e and rooted import paths starting with `./` are relative to it.\n\u003e If Dir is empty, the current directory is used.",
      "parentUuid": "99c36985_02c119d1",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2d93edf_10d302fe",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2022-07-01T11:39:42Z",
      "side": 1,
      "message": "\u003e It\u0027s a three-line doc change where the old docs were clearly wrong, so I didn\u0027t feel like an issue was needed :) Even in hindsight, I still wouldn\u0027t have over-engineered for the discussion of so little text\n\nApologies, my suggestion was poorly worded. What I meant to say was, when we realised this was a bigger issue we could have abandoned this CL in favour of more holistically working out what the right language should be and discussing in an issue. Not saying that\u0027s the right approach, just an alternative.",
      "parentUuid": "147b111f_cb0962b2",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30b97fca_bc3af1e3",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 154,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2022-05-30T15:47:33Z",
      "side": 1,
      "message": "Don\u0027t you want to remove this line?",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05eb8304_d7202f52",
        "filename": "cue/load/config.go",
        "patchSetId": 2
      },
      "lineNbr": 154,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2022-05-30T15:52:05Z",
      "side": 1,
      "message": "I would say not; we should still document what happens when the string is empty. See my last suggestion, in the other thread, which says:\n\n\u003e If Dir is empty, the current directory is used.",
      "parentUuid": "30b97fca_bc3af1e3",
      "revId": "9e50c4a68aa8e189cc7957504ac889d597a4f920",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}