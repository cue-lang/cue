# reproduction for https://github.com/cue-lang/cue/issues/3974
exec cue exp gengotypes
cmp cue_types_main_gen.go expect-gengo

-- cue.mod/module.cue --
module: "mod.test/foo"
language: version: "v0.13.0"

-- cue.mod/gen/k8s.io/apimachinery/pkg/apis/meta/v1/types_go_gen.cue --
package v1

#ObjectMeta: {}

-- cue.mod/gen/k8s.io/api/core/v1/types_go_gen.cue --
package v1

#PodSpec: {}

-- main.cue --
package main

import (
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
	"k8s.io/api/core/v1"
)

#Spec: {
	meta: metav1.#ObjectMeta
	spec: v1.#PodSpec
}

-- expect-gengo --
// Code generated by "cue exp gengotypes"; DO NOT EDIT.

package main

import (
	"k8s.io/api/core/v1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

type Spec struct {
	Meta metav1.ObjectMeta `json:"meta"`

	Spec v1.PodSpec `json:"spec"`
}
