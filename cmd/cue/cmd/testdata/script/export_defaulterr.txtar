#Issue 1304

! exec cue export --out json x.cue
cmp stdout expect_stdout_json
cmp stderr expect_stderr_json

! exec cue export --out cue x.cue
cmp stdout expect_stdout_cue
cmp stderr expect_stderr_cue

! exec cue export --out yaml x.cue
cmp stdout expect_stdout_yaml
cmp stderr expect_stderr_yaml

-- x.cue --
toto: value: *_|_ | (*"toto" | string)

-- expect_stdout_cue --
-- expect_stderr_cue --
toto.value: incomplete value "toto" | string
-- expect_stdout_json --
-- expect_stderr_json --
toto.value: cannot convert incomplete value "|((string){ \"toto\" }, (string){ string })" to JSON
-- expect_stdout_yaml --
-- expect_stderr_yaml --
yaml: unsupported node "toto"|string (*ast.BinaryExpr)
