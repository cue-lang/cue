#name: augment closed optionals
#evalFull
-- in.cue --
#A: {
	[=~"^[a-s]*$"]: int
}
#B: {
	[=~"^[m-z]*?"]: int
}
#C: {
	#A & #B
	{[=~"^Q*$"]: int}
}
c: #C & {QQ: 3}
#D: {
	#A
	#B
}
d: #D & {aaa: 4}
-- out/compile --
--- in.cue
{
  #A: {
    [=~"^[a-s]*$"]: int
  }
  #B: {
    [=~"^[m-z]*?"]: int
  }
  #C: {
    (〈1;#A〉 & 〈1;#B〉)
    {
      [=~"^Q*$"]: int
    }
  }
  c: (〈0;#C〉 & {
    QQ: 3
  })
  #D: {
    〈1;#A〉
    〈1;#B〉
  }
  d: (〈0;#D〉 & {
    aaa: 4
  })
}
-- out/eval --
(struct){
  #A: (#struct){
  }
  #B: (#struct){
  }
  #C: (#struct){
  }
  c: (#struct){
    QQ: (int){ 3 }
  }
  #D: (#struct){
  }
  d: (#struct){
    aaa: (int){ 4 }
  }
}
