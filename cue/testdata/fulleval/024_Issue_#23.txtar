#name: Issue #23
#evalFull
-- in.cue --
x: {a:     1} | {a: 2}
y: x & {a: 3}
-- out/compile --
--- in.cue
{
  x: ({
    a: 1
  }|{
    a: 2
  })
  y: (〈0;x〉 & {
    a: 3
  })
}
-- out/eval --
Errors:
y: 2 errors in empty disjunction:
y.a: conflicting values 1 and 3:
    ./in.cue:1:12
    ./in.cue:2:4
    ./in.cue:2:12
y.a: conflicting values 2 and 3:
    ./in.cue:1:21
    ./in.cue:2:4
    ./in.cue:2:12

Result:
(_|_){
  // [eval]
  x: (struct){ |((struct){
      a: (int){ 1 }
    }, (struct){
      a: (int){ 2 }
    }) }
  y: (_|_){
    // [eval] y: 2 errors in empty disjunction:
    // y.a: conflicting values 1 and 3:
    //     ./in.cue:1:12
    //     ./in.cue:2:4
    //     ./in.cue:2:12
    // y.a: conflicting values 2 and 3:
    //     ./in.cue:1:21
    //     ./in.cue:2:4
    //     ./in.cue:2:12
    a: (int){ 3 }
  }
}
