#name: or builtin should not fail on non-concrete empty list
#evalFull
-- in.cue --
#Workflow: {
	jobs: {
		[jobID=string]: {
		}
	}
	#JobID: or([for k, _ in jobs {k}])
}

foo: #Workflow & {
	jobs: foo: {
	}
}
-- out/eval --
(struct){
  #Workflow: (#struct){
    jobs: (#struct){
    }
    #JobID: (_|_){
      // [incomplete] empty list in call to or:
      //     ./in.cue:6:10
    }
  }
  foo: (#struct){
    jobs: (#struct){
      foo: (#struct){
      }
    }
    #JobID: (string){ "foo" }
  }
}
-- out/compile --
--- in.cue
{
  #Workflow: {
    jobs: {
      [string]: {}
    }
    #JobID: or([
      for k, _ in 〈1;jobs〉 {
        〈1;k〉
      },
    ])
  }
  foo: (〈0;#Workflow〉 & {
    jobs: {
      foo: {}
    }
  })
}
