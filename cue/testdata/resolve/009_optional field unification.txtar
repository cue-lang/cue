# DO NOT EDIT; generated by go run testdata/gen.go
#
#name: optional field unification
#evalPartial
-- in.cue --
a: {foo?: string}
b: {foo: "foo"}
c: a & b
d: a & {"foo"?: "bar"}

g1:       1
"g\(1)"?: 1
"g\(2)"?: 2
-- out/def --
a: {
	foo?: string
}
b: {
	foo: "foo"
}
c: a & b
d: a & {
	foo?: "bar"
}
g1:  1
g2?: 2
-- out/export --
a: {}
b: {
	foo: "foo"
}
c: {
	foo: "foo"
}
d: {}
g1: 1
-- out/yaml --
a: {}
b:
  foo: foo
c:
  foo: foo
d: {}
g1: 1
-- out/json --
{"a":{},"b":{"foo":"foo"},"c":{"foo":"foo"},"d":{},"g1":1}
-- out/legacy-debug --
<0>{a: <1>{foo?: string}, b: <2>{foo: "foo"}, c: <3>{foo: "foo"}, d: <4>{foo?: "bar"}, g1: 1, g2?: 2}
