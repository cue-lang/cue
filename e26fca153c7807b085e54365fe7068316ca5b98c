{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b71e9ecc_c37f5516",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-29T15:12:18Z",
      "side": 1,
      "message": "The refactor largely SGTM but I\u0027m not sure I agree with the naming and ordering choices.",
      "revId": "e26fca153c7807b085e54365fe7068316ca5b98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "559064ed_b8b7dc29",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2024-04-29T15:23:52Z",
      "side": 1,
      "message": "I think @mvdan@mvdan.cc is also going to follow up with some further comments",
      "revId": "e26fca153c7807b085e54365fe7068316ca5b98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b39179ea_821553e7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-29T15:25:26Z",
      "side": 1,
      "message": "Do we even need to show the language version in `cue version`, or even in the user agent string? Aside from our debugging, I struggle to imagine when a user might ever need to look at the hard-coded language version string. If they know that they are running e.g. v0.10.1 or v0.10.0-alpha.3, how is it helpful to know that the language version is v0.10.0, which is fairly obvious as long as we document the policy?\n\nThe only scenario where including the language version seems necessary is if someone forks the software and follows our language version but uses a different versioning scheme for their software. But honestly that is for them to deal with. For us and cmd/cue, the two versions follow the same path in unison.",
      "revId": "e26fca153c7807b085e54365fe7068316ca5b98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b99fdac_2c0a44d0",
        "filename": "cmd/cue/cmd/version.go",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-29T15:12:18Z",
      "side": 1,
      "message": "It seems to me like these are backwards. When a user runs `cue version`, they are primarily interested in the version of the software, not the version of the language spec it uses.\n\nI also don\u0027t think \"build version\" is clear enough, as it doesn\u0027t mean that much on its own. how about:\n\n```\ncue version %s\ncue language version %s\ngo version %s\n```\n\nI honestly think \"cue version\" on the first line is enough, as \"cue language version\" is then clearly separate.",
      "revId": "e26fca153c7807b085e54365fe7068316ca5b98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5cf041a_0fa74cce",
        "filename": "cmd/cue/cmd/version.go",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2024-04-29T15:23:52Z",
      "side": 1,
      "message": "I\u0027d tend to agree.",
      "parentUuid": "5b99fdac_2c0a44d0",
      "revId": "e26fca153c7807b085e54365fe7068316ca5b98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a84b186_7b3f4390",
        "filename": "internal/cueversion/version.go",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-29T15:12:18Z",
      "side": 1,
      "message": "Just like in the other comment, I\u0027m honestly not fond of \"build version\" and would prefer to just keep \"version\" here.\n\n(also note you forgot about the first godoc word)",
      "revId": "e26fca153c7807b085e54365fe7068316ca5b98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94e7fc46_9d197dd6",
        "filename": "internal/cueversion/version.go",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2024-04-29T15:23:52Z",
      "side": 1,
      "message": "Having seen this code in review form, I\u0027d tend to agree.",
      "parentUuid": "3a84b186_7b3f4390",
      "revId": "e26fca153c7807b085e54365fe7068316ca5b98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2362cdb_c323266a",
        "filename": "internal/cueversion/version.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-29T15:12:18Z",
      "side": 1,
      "message": "I don\u0027t think this is quite right; you should make sure to check `Module.Replace`. I don\u0027t think we need to go as far as writing a test, but at least we should write reasonably sound logic.",
      "revId": "e26fca153c7807b085e54365fe7068316ca5b98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8bb1ea2f_010f1616",
        "filename": "internal/cueversion/version.go",
        "patchSetId": 2
      },
      "lineNbr": 72,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-29T15:12:18Z",
      "side": 1,
      "message": "Just like `cue version`, I\u0027m not sure I agree with showing the language version first. The main point of the user agent string is literally to tell the server what version the client software is running, to e.g. work around old client bugs or to know when the client is new enough to handle new kinds of responses.\n\nMoreover, the user-agent syntax is like \"\u003cproduct\u003e / \u003cproduct-version\u003e\". The latest pre-release we have right now has a \"product version\" of v0.9.0-alpha.3, not v0.9.0. If anything, the language version is the extra string that should go later as a comment.",
      "revId": "e26fca153c7807b085e54365fe7068316ca5b98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}