{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "296218e2_6f63d774",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-19T12:13:04Z",
      "side": 1,
      "message": "is Unsetenv necessary? if it is for any specific reason I\u0027d document it.",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a20dc98d_cb479b1d",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-19T12:14:30Z",
      "side": 1,
      "message": "We want to end up with a pristine environment. The only way I know to do that is to use Unsetenv. Is that unusual?",
      "parentUuid": "296218e2_6f63d774",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "045bf299_c66919b6",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-19T12:16:00Z",
      "side": 1,
      "message": "well, it\u0027s unusual in that you\u0027re mixing t.Setenv with os.Unsetenv, and that most users rely on os.Getenv, which doesn\u0027t care about empty vs missing. so I would assume that Unsetenv isn\u0027t actually necessary.",
      "parentUuid": "a20dc98d_cb479b1d",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b3ea097_7ccee21a",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-19T12:20:01Z",
      "side": 1,
      "message": "tbh I don\u0027t know what the git command does under the hood. For all I know it does gate some behaviour on the presence/absence of an environment variable.\n\nAlso in general it seems cleaner to remove all the env vars rather than having them all present with empty strings.\n\nIn this case I\u0027d use t.Unsetenv if it existed, but it doesn\u0027t (partly because when t.Setenv was added I argued that simply calling os.Unsetenv after t.Setenv was a sufficiently simple workaround that the functionality was unnecessary).",
      "parentUuid": "045bf299_c66919b6",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f0079f12_af9c322b",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-19T12:22:01Z",
      "side": 1,
      "message": "I think I\u0027ll leave it like this for now, as it seems clearly the safer of the two options and it\u0027s only one line of code.",
      "parentUuid": "9b3ea097_7ccee21a",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f69c1a84_7472349d",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1017723
      },
      "writtenOn": "2024-04-19T12:24:57Z",
      "side": 1,
      "message": "Why are mutating the environment? Why not do this in the style of testscript, and craft a custom environment that is passed to the commands that need to run?",
      "parentUuid": "9b3ea097_7ccee21a",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one Code-Review+2 is required. Self review is not allowed, except for Marcel."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader OR label:Code-Review\u003dMAX,user\u003dmpvl@gmail.com"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader OR label:Code-Review=MAX,user=mpvl@gmail.com"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MAX,user=mpvl@gmail.com"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Do-Not-Review",
        "description": {
          "value": "Changes that have DO NOT REVIEW in their commit message are not submittable."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (R|r)(E|e)(V|v)(I|i)(E|e)(W|w).*\""
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:false"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (R|r)(E|e)(V|v)(I|i)(E|e)(W|w).*\""},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (R|r)(E|e)(V|v)(I|i)(E|e)(W|w).*\""]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Do-Not-Submit",
        "description": {
          "value": "Changes that have DO NOT SUBMIT in their commit message are not submittable."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:false"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "No-Holds",
        "description": {
          "value": "Changes with a Hold+1 vote are not submittable."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "NOT label:Hold\u003d1"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"NOT label:Hold=1"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Hold=1"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "TryBot-Result",
        "description": {
          "value": "TryBot-Result+1 is required. Unity-Result is not, as intentional breakages can happen. Can be bypassed by Chief Cueckoo with Code-Review+2."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config"
          }
        },
        "submittabilityExpression": {
          "expressionString": "label:TryBot-Result\u003dMAX OR label:Code-Review\u003dMAX,user\u003dchief.cueckoo@gmail.com"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-branch:refs/meta/config"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["branch:refs/meta/config"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:TryBot-Result=MAX OR label:Code-Review=MAX,user=chief.cueckoo@gmail.com"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:TryBot-Result=MAX"],"failingAtoms":["label:Code-Review=MAX,user=chief.cueckoo@gmail.com"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}