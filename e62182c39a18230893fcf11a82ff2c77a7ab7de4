{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "296218e2_6f63d774",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-19T12:13:04Z",
      "side": 1,
      "message": "is Unsetenv necessary? if it is for any specific reason I\u0027d document it.",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a20dc98d_cb479b1d",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-19T12:14:30Z",
      "side": 1,
      "message": "We want to end up with a pristine environment. The only way I know to do that is to use Unsetenv. Is that unusual?",
      "parentUuid": "296218e2_6f63d774",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "045bf299_c66919b6",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2024-04-19T12:16:00Z",
      "side": 1,
      "message": "well, it\u0027s unusual in that you\u0027re mixing t.Setenv with os.Unsetenv, and that most users rely on os.Getenv, which doesn\u0027t care about empty vs missing. so I would assume that Unsetenv isn\u0027t actually necessary.",
      "parentUuid": "a20dc98d_cb479b1d",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b3ea097_7ccee21a",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-19T12:20:01Z",
      "side": 1,
      "message": "tbh I don\u0027t know what the git command does under the hood. For all I know it does gate some behaviour on the presence/absence of an environment variable.\n\nAlso in general it seems cleaner to remove all the env vars rather than having them all present with empty strings.\n\nIn this case I\u0027d use t.Unsetenv if it existed, but it doesn\u0027t (partly because when t.Setenv was added I argued that simply calling os.Unsetenv after t.Setenv was a sufficiently simple workaround that the functionality was unnecessary).",
      "parentUuid": "045bf299_c66919b6",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f0079f12_af9c322b",
        "filename": "internal/vcs/vcs_test.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1007275
      },
      "writtenOn": "2024-04-19T12:22:01Z",
      "side": 1,
      "message": "I think I\u0027ll leave it like this for now, as it seems clearly the safer of the two options and it\u0027s only one line of code.",
      "parentUuid": "9b3ea097_7ccee21a",
      "revId": "e62182c39a18230893fcf11a82ff2c77a7ab7de4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}