#ExpandReferences
-- in.cue --
#MyStruct: {
	mediumNum: int32
	smallNum:  int8

	float:  float32
	double: float64

	deprecatedField: string @protobuf(5,deprecated)
}

-- out/TestGenerateOpenAPI/out.json --
{
   "openapi": "3.0.0",
   "info": {
      "title": "Generated by cue.",
      "version": "no version"
   },
   "paths": {},
   "components": {
      "schemas": {
         "MyStruct": {
            "type": "object",
            "required": [
               "mediumNum",
               "smallNum",
               "float",
               "double",
               "deprecatedField"
            ],
            "properties": {
               "mediumNum": {
                  "type": "integer",
                  "format": "int32"
               },
               "smallNum": {
                  "type": "integer",
                  "minimum": -128,
                  "maximum": 127
               },
               "float": {
                  "type": "number",
                  "format": "float"
               },
               "double": {
                  "type": "number",
                  "format": "double"
               },
               "deprecatedField": {
                  "type": "string",
                  "deprecated": true
               }
            }
         }
      }
   }
}
-- out/TestGenerateOpenAPI-v3/out.json --
{
   "openapi": "3.0.0",
   "info": {
      "title": "Generated by cue.",
      "version": "no version"
   },
   "paths": {},
   "components": {
      "schemas": {
         "MyStruct": {
            "type": "object",
            "required": [
               "mediumNum",
               "smallNum",
               "float",
               "double",
               "deprecatedField"
            ],
            "properties": {
               "mediumNum": {
                  "type": "integer",
                  "format": "int32"
               },
               "smallNum": {
                  "type": "integer",
                  "minimum": -128,
                  "maximum": 127
               },
               "float": {
                  "type": "number",
                  "format": "float"
               },
               "double": {
                  "type": "number",
                  "format": "double"
               },
               "deprecatedField": {
                  "type": "string",
                  "deprecated": true
               }
            }
         }
      }
   }
}
