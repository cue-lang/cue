{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2c346cf3_e848c3b8",
        "filename": "internal/golangorgx/gopls/cache/load.go",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2025-05-12T11:01:22Z",
      "side": 1,
      "message": "The code and structure here is very similar to the upstream: https://github.com/golang/tools/blob/c11269ccb0bf3687bf1f75fa7b2ae44c6806dcae/gopls/internal/cache/load.go#L44",
      "revId": "f71e52b8d286b1d009738cdd3364945022dd5202",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9a41b33c_c11149fe",
        "filename": "internal/golangorgx/gopls/cache/load.go",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2025-05-12T11:01:22Z",
      "side": 1,
      "message": "This is an almost verbatim resurrection of the upstream: https://github.com/golang/tools/blob/c11269ccb0bf3687bf1f75fa7b2ae44c6806dcae/gopls/internal/cache/load.go#L566",
      "revId": "f71e52b8d286b1d009738cdd3364945022dd5202",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e830e19_d47dfd27",
        "filename": "internal/golangorgx/gopls/cache/metadata/graph.go",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2025-05-12T11:01:22Z",
      "side": 1,
      "message": "The upstream uses a `Package` type, and also a `metadata` package, which I think we can replace with the existing build.Instance. So a lot of the changes going on in this CL are really just renamings due to this change of types, and also more appropriate names for certain fields.",
      "revId": "f71e52b8d286b1d009738cdd3364945022dd5202",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f5c4f81b_37d99748",
        "filename": "internal/golangorgx/gopls/cache/session.go",
        "patchSetId": 1
      },
      "lineNbr": 272,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2025-05-12T11:01:22Z",
      "side": 1,
      "message": "This line is essential, and also exists in the upstream: https://github.com/golang/tools/blob/c11269ccb0bf3687bf1f75fa7b2ae44c6806dcae/gopls/internal/cache/session.go#L372",
      "revId": "f71e52b8d286b1d009738cdd3364945022dd5202",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "af9ceca0_92d7a498",
        "filename": "internal/golangorgx/gopls/cache/snapshot.go",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2025-05-12T11:01:22Z",
      "side": 1,
      "message": "In the upstream, PackageID is basically the same as ImportPath, but AIUI can differ when modules and packages have been vendored. In cue, we don\u0027t need to worry about that, and there\u0027s no equivalent concept in build.Instance so we can simplify to ImportPath.",
      "revId": "f71e52b8d286b1d009738cdd3364945022dd5202",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e49aa270_599cfa5a",
        "filename": "internal/golangorgx/gopls/cache/snapshot.go",
        "patchSetId": 1
      },
      "lineNbr": 1076,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2025-05-12T11:01:22Z",
      "side": 1,
      "message": "these fields just got moved around so that they match the order in the type declaration, which I always prefer.",
      "revId": "f71e52b8d286b1d009738cdd3364945022dd5202",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bbbdad6d_a60e33b3",
        "filename": "internal/golangorgx/gopls/cache/snapshot.go",
        "patchSetId": 1
      },
      "lineNbr": 1171,
      "author": {
        "id": 1038145
      },
      "writtenOn": "2025-05-12T11:01:22Z",
      "side": 1,
      "message": "This is one of the few differences vs upstream: https://github.com/golang/tools/blob/c11269ccb0bf3687bf1f75fa7b2ae44c6806dcae/gopls/internal/cache/snapshot.go#L1668\n\nHere, unlike upstream, I extract the new package name and make use of it during invalidation. It\u0027s useful because if there are cue files in child directories, then we can look to see if they need invalidating if they are also in the pkg that this file is moving to.",
      "revId": "f71e52b8d286b1d009738cdd3364945022dd5202",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}