{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "104a1fbe_ce379c11",
        "filename": "internal/core/adt/eval.go",
        "patchSetId": 1
      },
      "lineNbr": 312,
      "author": {
        "id": 1013536
      },
      "writtenOn": "2025-11-05T15:05:37Z",
      "side": 1,
      "message": "How does Go do alignment nowadays? putting this near hasDisjunctions, or moving it to nodeContextState (see comment later as well, may prevent 7 bytes from being added).",
      "revId": "f746cffe7b5e39d71d22842e40b86db5f611f216",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "30176f30_e2fbe37e",
        "filename": "internal/core/adt/eval.go",
        "patchSetId": 1
      },
      "lineNbr": 312,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2025-11-05T17:05:19Z",
      "side": 1,
      "message": "Today it\u0027s largely the same as it was five or ten years ago - you can still save bytes by placing byte fields together.\n\n\nHowever the toolchain is slowly moving towards a model where the compiler is allowed to reorder fields (e.g. to reduce alignment overhead, or if it thinks it will be a speed-up with PGO info) unless the new `structs.HostLayout` directive is added: https://github.com/golang/go/issues/66408\n\n\nSo I lean towards keeping the fields where they are, because that\u0027s helpful to the human developer, much like a mutex is next to the fields that it protects. And I assume that the compiler will soon enough be able to figure out how to do the right thing for memory usage and performance.",
      "parentUuid": "104a1fbe_ce379c11",
      "revId": "f746cffe7b5e39d71d22842e40b86db5f611f216",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea86f7bb_00e530dc",
        "filename": "internal/core/adt/eval.go",
        "patchSetId": 1
      },
      "lineNbr": 513,
      "author": {
        "id": 1013536
      },
      "writtenOn": "2025-11-05T15:05:37Z",
      "side": 1,
      "message": "Do we similarly need to update cloneNodeContext in overlay.go? Not sure, but seems like we might, or that that that may prevent recomputation.\n\nYou would have to set computedFlatReplaceIDs then as well, or include that value in nodeContextState.",
      "revId": "f746cffe7b5e39d71d22842e40b86db5f611f216",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cad00f00_89632465",
        "filename": "internal/core/adt/eval.go",
        "patchSetId": 1
      },
      "lineNbr": 513,
      "author": {
        "id": 1017720
      },
      "writtenOn": "2025-11-05T17:05:19Z",
      "side": 1,
      "message": "I did briefly look at this at the time, and I just looked again. When cloneNodeContext is called, computedFlatReplaceIDs is always false, so it doesn\u0027t help at all with Judson\u0027s benchmark.\n\n\nHowever, it\u0027s harmless and consistent, so I\u0027ve added it here.",
      "parentUuid": "ea86f7bb_00e530dc",
      "revId": "f746cffe7b5e39d71d22842e40b86db5f611f216",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}