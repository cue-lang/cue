-- in.cue --
first: {
	out: [1, 2]
}
ignore: {
	x: 1
	y: a.c
}
middle: {
	for x in first.out {
		ignore.y

		"la\(x)": ignore & {
			seq: x + 1
			val: "foo\(x)"
			out: ignore.x
		}
	}
}

a: {
	b: [for x in middle {x}]
	c: {}
}
-- out/dependencies/field --
line  reference    path of resulting vertex
21:   middle    => middle
-- out/dependencies/all --
line  reference    path of resulting vertex
21:   middle    => middle
-- out/dependencies-v3/dynamic --
line  reference    path of resulting vertex
21:   middle    => middle
21:   x         => **non-rooted**
21:   x         => **non-rooted**
-- diff/-out/dependencies-v3/dynamic<==>+out/dependencies/dynamic --
diff old new
--- old
+++ new
@@ -1,4 +1,4 @@
 line  reference    path of resulting vertex
 21:   middle    => middle
-21:   x         => middle.la1
-21:   x         => middle.la2
+21:   x         => **non-rooted**
+21:   x         => **non-rooted**
-- diff/dependencies/todo/p1 --
middle.la*: now replaced with "non-rooted"
-- out/dependencies/dynamic --
line  reference    path of resulting vertex
21:   middle    => middle
21:   x         => middle.la1
21:   x         => middle.la2
